<%- include('partials/header'); %>

<div class="manageUser-container">
  <div id="title">
    <h2>Manage Users</h2>
  </div>

  <div class="new-message-container new-user">
    <a href="#" onclick="openModal()">+</a>
  </div>

  <div id="users-table">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Manage</th>
        </tr>
      </thead>
      <tbody id="users-table">
        <% if (totalUsers && totalUsers == 0) { %>
          <h1><%= noUsers %></h1>
        <% } %>
        <% if (totalUsers && totalUsers > 0) { %>
          <% users.forEach(user => { %>
            <tr id="">
              <td class="name">
                <img src="<%= '/uploads/avatar/'+user.avatar %>" />
                <span><%= user.name %></span>
              </td>
              <td><%= user.email %></td>
              <td class="manage">
                <img src="./images/trash.png" alt="Delete" />
              </td>
            </tr>
          <% }) %>
        <% } %>
        
      </tbody>
    </table>
  </div>
</div>

<div class="modal-wrapper" id="add-user-modal">
  <div class="modal">
    <a href="#" onclick="closeModal()" class="modal-close">+</a>
    <div class="modal-title">
      <h2>Create New User</h2>
    </div>
    <div class="modal-body">
      <form id="add-user-form" name="addUserForm">
        <input type="text" placeholder="enter name" name="name" />
        <p class="error show">This is error</p>
        <input type="text" placeholder="enter email" name="email" />
        <input type="text" placeholder="enter mobile" name="mobile" />
        <input type="date" placeholder="enter mobile" name="dob" />
        <input type="password" placeholder="enter password" name="password" />
        <input type="password" placeholder="confirm password" name="cpassword" />
        <div class="genders">
          <div class="input_group">
            <input type="radio" name="gender" value="male" id="male" />
            <label for="male">Male</label>
          </div>
          <div class="input_group">
            <input type="radio" checked name="gender" value="female" id="female" />
            <label for="female">Female</label>
          </div>
          <div class="input_group">
            <input type="radio" name="gender" value="other" id="other_gender" />
            <label for="other_gender">Other</label>
          </div>
        </div>

        <div class="upload_file_input" onclick="document.forms.addUserForm.avatar.click()">
          <i class="fa-solid fa-upload fa-bounce"></i>
          <label>Choose File to Upload</label>
          <input type="file" name="avatar" style="display: none;" />
        </div>
        <div class="input_group">
          <input type="checkbox" name="agreed" id="agreed">
          <label for="agreed">Accept terms and conditions</label for="agreed">
        </div>
        <input type="submit" value="Submit" />
      </form>
    </div>
  </div>
</div>
<script>
  const modal = document.querySelector("#add-user-modal");

  function closeModal() {
    modal.style.display = "none";
  }

  function openModal() {
    modal.style.display = "block";
  }

  const addUserForm = document.getElementById("add-user-form");
  addUserForm.addEventListener("submit", (e) => {
    e.preventDefault();

    console.log(addUserForm.dob.value);
  });



</script>
</body>

</html>